# 파트너 시스템 정리 (간소화 버전)

## 파트너 역할 및 특성

### 파트너 정의
- **제휴 마케팅 업체**: 플랫폼과 제휴 마케팅 계약을 맺은 업체
- **폐쇄몰 운영**: 일반 개인 유저들이 접근할 수 있는 폐쇄몰을 운영
- **자동 주문 생성**: 폐쇄몰에서 개인 유저가 주문하면 정해진 템플릿에 맞춰 파트너 주문으로 자동 생성
- **주문 처리 및 정산**: 할당된 주문을 처리하고 수수료 정산을 관리하는 역할

### 간소화된 파트너 UX

| 기능 | 설명 |
|------|------|
| **주문 관리** | 제휴 마케팅을 통해 생성된 주문 확인 및 처리 |
| **정산 관리** | 파트너 수수료 정산 및 수익 현황 확인 |

## 시스템 구조 (간소화)

### 1. 파트너 전용 네비게이션

**하단 메뉴 (4개)**
- 홈 (PartnerDashboard)
- 주문관리 (PartnerOrderManagement)  
- 정산 (PartnerSettlement)
- 설정 (PartnerMyPage)

### 2. 제거된 기능들
- ~~작업관리 (PartnerTasks)~~ → 주문관리로 통합
- ~~작업내역 (PartnerHistory)~~ → 주문관리로 통합
- ~~QR 스캔 기능~~ → 불필요한 복잡성 제거
- ~~입출고 관리~~ → 제휴 마케팅에 불필요

### 3. 핵심 컴포넌트

#### PartnerDashboard (간소화)
- **주요 통계**: 대기/처리중/완료/전체 주문 수
- **월별 성과**: 처리 주문 수, 수수료 수익, 성장률
- **빠른 작업**: 주문 관리, 정산 관리 (2개만)
- **최근 주문**: 제휴 마케팅을 통한 최근 주문 현황
- **파트너 공지사항**: 정산 및 수수료 관련 안내

#### PartnerOrderManagement
- 제휴 마케팅을 통해 자동 생성된 주문 목록
- 주문 상태별 필터링 (대기/처리중/완료)
- 주문별 상세 정보 및 수수료 확인
- 주문 처리 상태 업데이트

#### PartnerSettlement (신규)
- **월별 정산**: 월별 정산 내역 및 지급 현황
- **주문별 수수료**: 개별 주문의 수수료 계산 내역
- **정산 요약**: 이번달/지난달/누적 수익 통계
- **정산 내역서 다운로드**: CSV 파일 다운로드
- **정산 안내**: 정산 기준 및 주의사항

## 파트너 데이터 플로우 (간소화)

### 제휴 마케팅 플로우
1. **폐쇄몰에서 주문 발생**: 개인 고객이 파트너 폐쇄몰에서 주문
2. **자동 주문 생성**: 정해진 템플릿에 맞춰 시스템에서 주문 자동 생성
3. **파트너에게 할당**: 생성된 주문이 해당 파트너에게 자동 할당
4. **주문 처리**: 파트너가 PartnerOrderManagement에서 주문 확인 및 처리
5. **수수료 정산**: 완료된 주문에 대해 수수료 계산 및 월별 정산

### 정산 프로세스
1. **매월 말일**: 해당월 주문 마감 및 수수료 계산
2. **익월 1-3일**: 정산 계산 및 검토 과정
3. **익월 5일**: 파트너 계좌로 수수료 입금
4. **정산 내역서**: 이메일 발송 및 시스템에서 다운로드 가능

## UX 설계 원칙

### 1. 간소함 (Simplicity)
- 파트너가 필요한 핵심 기능만 제공
- 복잡한 물류 작업은 제외하고 주문과 정산에 집중
- 직관적인 2개 메인 기능 (주문관리 + 정산)

### 2. 투명성 (Transparency)
- 수수료 계산 과정의 완전한 투명성
- 실시간 수익 현황 확인
- 정산 내역의 상세한 breakdown 제공

### 3. 효율성 (Efficiency)
- 최소한의 클릭으로 원하는 정보 접근
- 자동화된 주문 처리 프로세스
- 간편한 정산 내역 관리

## 기술적 구현

### 컴포넌트 구조 (간소화)
```
/components
├── PartnerDashboard.tsx       (간소화된 대시보드)
├── PartnerOrderManagement.tsx (주문 관리 통합)
├── PartnerSettlement.tsx      (정산 관리 - 신규)
├── PartnerMyPage.tsx          (계정 설정)
└── PartnerNavigation.tsx      (4개 메뉴)
```

### 제거된 컴포넌트
- ~~PartnerTasks.tsx~~ (작업 관리)
- ~~PartnerHistory.tsx~~ (작업 내역)

### 라우팅 (간소화)
```typescript
// 파트너 접근 가능 페이지
case 'partner-orders':
case 'partner-settlement':
  return userType === 'partner';

// 제거된 페이지들 - 접근 차단
case 'partner-tasks':
case 'partner-history':
  return false;
```

## 수수료 정산 시스템

### 수수료 구조
- **기본 수수료율**: 2.75% (주문금액 기준)
- **최소 정산 금액**: 10,000원 이상
- **정산 주기**: 매월 (월말 마감, 익월 5일 지급)

### 수수료 계산
```
수수료 = 주문금액 × 수수료율(2.75%)
```

### 정산 데이터
- 월별 주문 건수 및 총 매출
- 개별 주문별 수수료 내역
- 지급 완료/대기 상태 관리
- CSV 정산 내역서 제공

## 보안 및 권한

### 접근 제어
- 파트너는 본인에게 할당된 주문만 조회 가능
- 정산 정보는 본인 계정의 데이터만 접근
- 다른 파트너의 정보는 완전 격리

### 데이터 보안
- 개인정보는 마스킹 처리 (김○○ 형태)
- 정산 내역의 암호화 저장
- 로그 추적을 통한 접근 기록 관리

## 향후 확장 계획

### 1단계: 기본 간소화 완료 ✅
- 핵심 2개 기능으로 메뉴 간소화
- 직관적인 UX 설계
- 투명한 정산 시스템

### 2단계: 고도화 (예정)
- 실시간 알림 시스템 (주문/정산)
- 모바일 앱 최적화
- 자동 정산 리포트 이메일

### 3단계: 확장 (예정)
- AI 기반 수익 분석
- 파트너별 맞춤 마케팅 도구
- 고급 통계 대시보드

## 사용자 경험 시나리오

### 일반적인 파트너 일과
1. **로그인** → 파트너 대시보드
2. **주문 확인** → 주간/월간 주문 현황 파악
3. **주문 처리** → 새로운 주문 처리 및 상태 업데이트
4. **수익 확인** → 실시간 수수료 및 정산 예정 금액 확인
5. **정산 관리** → 월별 정산 내역 및 지급 현황 확인

### 월말 정산 시나리오
1. **정산 알림** → 월말 정산 완료 알림 수신
2. **정산 확인** → PartnerSettlement에서 정산 내역 확인
3. **내역서 다운로드** → 세무 신고용 정산 내역서 다운로드
4. **지급 확인** → 익월 5일 계좌 입금 확인

이렇게 간소화된 파트너 시스템은 제휴 마케팅의 본질에 집중하여 파트너가 정말 필요한 기능만 제공함으로써 사용성과 효율성을 크게 개선합니다.