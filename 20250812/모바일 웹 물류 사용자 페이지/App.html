<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YCS ë¬¼ë¥˜ ì‹œìŠ¤í…œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .bg-background { background-color: #f8fafc; }
        .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
        .focus\:not-sr-only:focus { position: static; width: auto; height: auto; padding: 0.5rem 1rem; margin: 0; overflow: visible; clip: auto; white-space: normal; }
        .animate-bounce { animation: bounce 1s infinite; }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8,0,1,1); } 50% { transform: none; animation-timing-function: cubic-bezier(0,0,0.2,1); } }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body class="min-h-screen bg-background">
    <div id="app" class="min-h-screen bg-background flex flex-col">
        <!-- ì¼ë°˜/ê¸°ì—… íšŒì›ìš© ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div id="mobile-navigation" class="hidden"></div>
        
        <!-- ê´€ë¦¬ììš© ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div id="admin-header" class="hidden bg-white border-b border-blue-100 shadow-sm">
            <div class="flex items-center justify-between px-4 py-3">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg">
                        <span class="text-white font-bold">YCS</span>
                    </div>
                    <div>
                        <h1 class="font-semibold text-blue-900">YCS ë¬¼ë¥˜ ì‹œìŠ¤í…œ</h1>
                        <p class="text-xs text-blue-600">
                            ê´€ë¦¬ì | <span id="admin-name"></span>
                        </p>
                    </div>
                </div>
                <div class="flex gap-2">
                    <button onclick="navigateTo('page-list')" class="text-sm text-purple-600 hover:text-purple-700 hover:bg-purple-50 px-3 py-1 rounded-full transition-colors">
                        í˜ì´ì§€ëª©ë¡
                    </button>
                    <button onclick="navigateTo('mypage')" class="text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 px-3 py-1 rounded-full transition-colors">
                        ì„¤ì •
                    </button>
                    <button onclick="logout()" class="text-sm text-red-600 hover:text-red-700 hover:bg-red-50 px-3 py-1 rounded-full transition-colors">
                        ë¡œê·¸ì•„ì›ƒ
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <main id="main-content" class="flex-1">
            <!-- ë¡œë”© ìŠ¤í”¼ë„ˆ -->
            <div id="loading-spinner" class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center hidden">
                <div class="text-center">
                    <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce">
                        <div class="w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
                    </div>
                    <p class="text-blue-600 font-medium">ë¡œë”© ì¤‘...</p>
                </div>
            </div>
            
            <!-- ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ í˜ì´ì§€ -->
            <div id="access-denied" class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center p-4 hidden">
                <div class="text-center max-w-md">
                    <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
                        <span class="text-3xl">ğŸš«</span>
                    </div>
                    <h2 class="text-2xl font-bold text-blue-900 mb-4">ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤</h2>
                    <p id="access-denied-message" class="text-blue-600 mb-6"></p>
                    <button onclick="navigateTo('page-list')" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors">
                        í˜ì´ì§€ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                    </button>
                </div>
            </div>
            
            <!-- í˜ì´ì§€ ë‚´ìš© -->
            <div id="page-content" class="transition-opacity duration-300"></div>
        </main>
        
        <!-- íŒŒíŠ¸ë„ˆ ì „ìš© í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div id="partner-navigation" class="hidden"></div>
        
        <!-- ê´€ë¦¬ì ì „ìš© í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div id="admin-navigation" class="hidden"></div>
        
        <!-- í‘¸í„° -->
        <div id="footer" class="hidden"></div>
        
        <!-- ì ‘ê·¼ì„±: ìŠ¤í‚µ ë§í¬ -->
        <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded-md z-50">
            ë©”ì¸ ì½˜í…ì¸ ë¡œ ê±´ë„ˆë›°ê¸°
        </a>
    </div>

    <script>
        // ì „ì—­ ìƒíƒœ ê´€ë¦¬
        let currentPage = 'page-list';
        let user = null;
        let isLoading = false;
        let pageVisible = true;
        let signupUserType = 'general';
        let selectedOrderId = '';

        // ì‚¬ìš©ì íƒ€ì…ë³„ Mock ë°ì´í„°
        const createMockUser = (userType, userSubType) => {
            const baseUsers = {
                general: {
                    id: 'user-general-001',
                    email: 'user@ycs-logistics.com',
                    name: 'ê¹€ì¼ë°˜',
                    type: 'general',
                    phone: '010-1234-5678',
                    address: 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123',
                    joinDate: '2024-01-15',
                    lastLogin: new Date().toISOString()
                },
                corporate: {
                    id: 'corp-business-001',
                    email: 'business@company.co.kr',
                    name: '(ì£¼)ë¹„ì¦ˆë‹ˆìŠ¤ì»´í¼ë‹ˆ',
                    type: 'corporate',
                    phone: '02-1234-5678',
                    address: 'ì„œìš¸íŠ¹ë³„ì‹œ ì¤‘êµ¬ ì„ì§€ë¡œ 456',
                    businessNumber: '123-45-67890',
                    joinDate: '2024-01-10',
                    lastLogin: new Date().toISOString()
                },
                admin: {
                    id: 'admin-system-001',
                    email: 'admin@ycs-logistics.com',
                    name: 'ì‹œìŠ¤í…œê´€ë¦¬ì',
                    type: 'admin',
                    phone: '02-9876-5432',
                    address: 'ì„œìš¸íŠ¹ë³„ì‹œ ì„œì´ˆêµ¬ ê°•ë‚¨ëŒ€ë¡œ 789',
                    department: 'ìš´ì˜íŒ€',
                    joinDate: '2023-12-01',
                    lastLogin: new Date().toISOString()
                },
                partner: {
                    id: 'partner-logistics-001',
                    email: 'partner@logistics-partner.com',
                    name: 'ë¬¼ë¥˜íŒŒíŠ¸ë„ˆ(ì£¼)',
                    type: 'partner',
                    phone: '02-5555-7777',
                    address: 'ì¸ì²œê´‘ì—­ì‹œ ì¤‘êµ¬ í•­ë™ ë¬¼ë¥˜ë‹¨ì§€ 101',
                    businessNumber: '987-65-43210',
                    partnerCode: 'P-2024-001',
                    joinDate: '2024-01-05',
                    lastLogin: new Date().toISOString()
                }
            };

            if (userType === 'corporate' || (userType === 'general' && userSubType === 'corporate')) {
                return baseUsers.corporate;
            } else if (userType === 'admin') {
                return baseUsers.admin;
            } else if (userType === 'partner') {
                return baseUsers.partner;
            } else {
                return baseUsers.general;
            }
        };

        // í˜ì´ì§€ë³„ í•„ìš”í•œ ì‚¬ìš©ì íƒ€ì… ë§¤í•‘
        const getRequiredUserTypeForPage = (page) => {
            const pageUserTypeMap = {
                'login': null,
                'signup': null,
                'signup-complete': null,
                'signup-pending': null,
                'find-id': null,
                'find-password': null,
                'page-list': null,
                'notices': 'general',
                'faq': 'general',
                'workflow-simulator': 'general',
                'dashboard': 'general',
                'mypage': 'general',
                'order-form': 'general',
                'order-history': 'general',
                'order-detail': 'general',
                'payment': 'general',
                'admin-dashboard': 'admin',
                'admin-orders': 'admin',
                'admin-order-detail': 'admin',
                'partner-dashboard': 'partner',
                'partner-orders': 'partner',
                'partner-history': 'partner',
                'partner-settlement': 'partner',
                'partner-tasks': 'partner'
            };
            
            return pageUserTypeMap[page] || null;
        };

        // í˜ì´ì§€ ì ‘ê·¼ ê¶Œí•œ í™•ì¸
        const hasPageAccess = (page, userType) => {
            if (!userType) return true;
            
            switch (page) {
                case 'order-form':
                case 'payment':
                    return userType === 'general' || userType === 'corporate';
                case 'admin-orders':
                case 'admin-order-detail':
                    return userType === 'admin';
                case 'partner-dashboard':
                case 'partner-orders':
                case 'partner-history':
                case 'partner-settlement':
                case 'partner-tasks':
                    return userType === 'partner';
                default:
                    return true;
            }
        };

        // ìë™ ë¡œê·¸ì¸ ì²˜ë¦¬
        const handleAutoLogin = (page, urlParams) => {
            const requiredUserType = getRequiredUserTypeForPage(page);
            
            if (requiredUserType && !user) {
                const userSubType = urlParams.get('userType');
                
                let finalUserType = requiredUserType;
                if (page === 'dashboard' && userSubType === 'corporate') {
                    finalUserType = 'corporate';
                }
                
                const mockUser = createMockUser(finalUserType, userSubType);
                user = mockUser;
                localStorage.setItem('mockUser', JSON.stringify(mockUser));
                
                console.log(`ìë™ ë¡œê·¸ì¸ ì²˜ë¦¬: ${page} í˜ì´ì§€ ì ‘ê·¼ì„ ìœ„í•´ ${finalUserType} ì‚¬ìš©ìë¡œ ë¡œê·¸ì¸`);
            }
        };

        // ë„¤ë¹„ê²Œì´ì…˜ í‘œì‹œ ì¡°ê±´
        const shouldShowNavigation = () => {
            return user && (user.type === 'general' || user.type === 'corporate');
        };

        const shouldShowPartnerNavigation = () => {
            return user && user.type === 'partner';
        };

        const shouldShowAdminNavigation = () => {
            return user && user.type === 'admin';
        };

        const shouldShowFooter = () => {
            return shouldShowNavigation() && !['login', 'signup', 'find-id', 'find-password', 'order-detail', 'payment', 'page-list'].includes(currentPage);
        };

        // í˜ì´ì§€ ë Œë”ë§
        const renderPage = () => {
            hideAllElements();
            
            if (isLoading) {
                document.getElementById('loading-spinner').classList.remove('hidden');
                return;
            }

            // ì ‘ê·¼ ê¶Œí•œ í™•ì¸
            if (user && !hasPageAccess(currentPage, user.type)) {
                showAccessDenied(user.type);
                return;
            }

            // í˜ì´ì§€ë³„ ì»¨í…ì¸  ë¡œë“œ
            loadPageContent(currentPage);
            
            // ë„¤ë¹„ê²Œì´ì…˜ í‘œì‹œ/ìˆ¨ê¹€
            updateNavigation();
        };

        // ëª¨ë“  ìš”ì†Œ ìˆ¨ê¹€
        const hideAllElements = () => {
            document.getElementById('loading-spinner').classList.add('hidden');
            document.getElementById('access-denied').classList.add('hidden');
            document.getElementById('mobile-navigation').classList.add('hidden');
            document.getElementById('admin-header').classList.add('hidden');
            document.getElementById('partner-navigation').classList.add('hidden');
            document.getElementById('admin-navigation').classList.add('hidden');
            document.getElementById('footer').classList.add('hidden');
        };

        // ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ í˜ì´ì§€ í‘œì‹œ
        const showAccessDenied = (userType) => {
            const accessDenied = document.getElementById('access-denied');
            const message = document.getElementById('access-denied-message');
            
            if (userType === 'admin') {
                message.textContent = 'ê´€ë¦¬ìëŠ” ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
            } else if (userType === 'partner') {
                message.textContent = 'íŒŒíŠ¸ë„ˆëŠ” ì£¼ë¬¸ì„œ ì‘ì„± ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. íŒŒíŠ¸ë„ˆ ì „ìš© ì—…ë¬´ë¥¼ ìˆ˜í–‰í•´ì£¼ì„¸ìš”.';
            } else {
                message.textContent = 'ì´ í˜ì´ì§€ì— ì ‘ê·¼í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.';
            }
            
            accessDenied.classList.remove('hidden');
        };

        // í˜ì´ì§€ë³„ ì»¨í…ì¸  ë¡œë“œ
        const loadPageContent = (page) => {
            const pageContent = document.getElementById('page-content');
            
            // í˜ì´ì§€ì™€ ì‹¤ì œ HTML íŒŒì¼ ë§¤í•‘
            const pageFileMap = {
                'page-list': '../index.html',
                'login': '../LoginPage.html',
                'signup': 'html/signup.html',
                'dashboard': 'html/dashboard.html',
                'admin-dashboard': 'html/dashboard.html',
                'partner-dashboard': 'html/dashboard.html',
                'order-form': 'html/order-form.html',
                'order-history': 'html/order-history.html',
                'mypage': 'html/mypage.html',
                'notices': 'html/notices.html',
                'faq': 'html/faq.html',
                'find-id': null,
                'find-password': null,
                'payment': null,
                'order-detail': null
            };
            
            const htmlFile = pageFileMap[page];
            
            if (htmlFile) {
                // ì‹¤ì œ HTML íŒŒì¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
                window.location.href = htmlFile;
            } else {
                // ê¸°ë³¸ í˜ì´ì§€ ì½˜í…ì¸ 
                switch (page) {
                    case 'page-list':
                        window.location.href = 'index.html';
                        break;
                    case 'find-id':
                        pageContent.innerHTML = `
                            <div class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center p-4">
                                <div class="w-full max-w-md">
                                    <div class="bg-white shadow-lg border border-blue-100 rounded-lg p-6">
                                        <h2 class="text-2xl font-bold text-blue-900 mb-4 text-center">ì•„ì´ë”” ì°¾ê¸°</h2>
                                        <form class="space-y-4">
                                            <div>
                                                <label class="block text-sm font-medium text-blue-900 mb-2">ì´ë¦„</label>
                                                <input type="text" class="w-full px-3 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-blue-900 mb-2">ì „í™”ë²ˆí˜¸</label>
                                                <input type="tel" class="w-full px-3 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                                            </div>
                                            <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition-colors">ì•„ì´ë”” ì°¾ê¸°</button>
                                        </form>
                                        <div class="mt-4 text-center">
                                            <button onclick="navigateTo('login')" class="text-blue-600 hover:underline">ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;
                        break;
                    case 'find-password':
                        pageContent.innerHTML = `
                            <div class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center p-4">
                                <div class="w-full max-w-md">
                                    <div class="bg-white shadow-lg border border-blue-100 rounded-lg p-6">
                                        <h2 class="text-2xl font-bold text-blue-900 mb-4 text-center">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</h2>
                                        <form class="space-y-4">
                                            <div>
                                                <label class="block text-sm font-medium text-blue-900 mb-2">ì´ë©”ì¼</label>
                                                <input type="email" class="w-full px-3 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-blue-900 mb-2">ì´ë¦„</label>
                                                <input type="text" class="w-full px-3 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
                                            </div>
                                            <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition-colors">ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •</button>
                                        </form>
                                        <div class="mt-4 text-center">
                                            <button onclick="navigateTo('login')" class="text-blue-600 hover:underline">ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;
                        break;
                    default:
                        pageContent.innerHTML = '<div class="p-4 text-center"><h1 class="text-2xl font-bold text-blue-900 mb-4">í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h1><p class="text-blue-600">ìš”ì²­í•œ í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p></div>';
                }
            }
        };

        // ë„¤ë¹„ê²Œì´ì…˜ ì—…ë°ì´íŠ¸
        const updateNavigation = () => {
            if (shouldShowNavigation()) {
                document.getElementById('mobile-navigation').classList.remove('hidden');
            }
            
            if (shouldShowAdminNavigation() && currentPage === 'admin-dashboard') {
                document.getElementById('admin-header').classList.remove('hidden');
                if (user) {
                    document.getElementById('admin-name').textContent = user.name;
                }
            }
            
            if (shouldShowPartnerNavigation()) {
                document.getElementById('partner-navigation').classList.remove('hidden');
            }
            
            if (shouldShowAdminNavigation()) {
                document.getElementById('admin-navigation').classList.remove('hidden');
            }
            
            if (shouldShowFooter()) {
                document.getElementById('footer').classList.remove('hidden');
            }
        };

        // í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜
        const navigateTo = (page, options = {}) => {
            if (user && user.type === 'operator') {
                console.warn('ì˜¤í¼ë ˆì´í„° ê³„ì •ì€ ë” ì´ìƒ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.');
                logout();
                return;
            }

            pageVisible = false;
            isLoading = true;
            
            if ((page.startsWith('signup-complete') || page.startsWith('signup-pending')) && options.userType) {
                signupUserType = options.userType;
            }
            
            if ((page === 'order-detail' || page === 'admin-order-detail' || page === 'payment') && options.orderId) {
                selectedOrderId = options.orderId;
            }

            const requiredUserType = getRequiredUserTypeForPage(page);
            if (requiredUserType && (!user || user.type !== requiredUserType)) {
                let finalUserType = requiredUserType;
                if (page === 'dashboard' && options.userType === 'corporate') {
                    finalUserType = 'corporate';
                }
                
                const mockUser = createMockUser(finalUserType, options.userType);
                user = mockUser;
                console.log(`í˜ì´ì§€ ì´ë™ ì¤‘ ìë™ ë¡œê·¸ì¸: ${page} í˜ì´ì§€ ì ‘ê·¼ì„ ìœ„í•´ ${finalUserType} ì‚¬ìš©ìë¡œ ë¡œê·¸ì¸`);
            }
            
            setTimeout(() => {
                currentPage = page;
                isLoading = false;
                pageVisible = true;
                renderPage();
            }, 300);
        };

        // ë¡œê·¸ì¸ ì²˜ë¦¬
        const handleLogin = (userData) => {
            if (userData.type === 'operator') {
                alert('ì˜¤í¼ë ˆì´í„° ê³„ì •ì€ ë” ì´ìƒ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            user = userData;
            isLoading = true;
            renderPage();
            
            setTimeout(() => {
                if (userData.type === 'admin') {
                    navigateTo('admin-dashboard');
                } else if (userData.type === 'partner') {
                    navigateTo('partner-dashboard');
                } else {
                    navigateTo('dashboard');
                }
                isLoading = false;
            }, 800);
        };

        // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
        const logout = () => {
            isLoading = true;
            renderPage();
            
            setTimeout(() => {
                user = null;
                localStorage.removeItem('rememberedUser');
                localStorage.removeItem('mockUser');
                navigateTo('page-list');
                isLoading = false;
            }, 500);
        };

        // URL íŒŒë¼ë¯¸í„° ì²˜ë¦¬
        const initializeFromURL = () => {
            const urlParams = new URLSearchParams(window.location.search);
            const page = urlParams.get('page');
            const userType = urlParams.get('userType');
            const orderId = urlParams.get('orderId');
            const mockUserData = urlParams.get('mockUser');

            if (page) {
                currentPage = page;
                
                if (mockUserData) {
                    try {
                        const parsedUser = JSON.parse(decodeURIComponent(mockUserData));
                        user = parsedUser;
                        localStorage.setItem('mockUser', JSON.stringify(parsedUser));
                    } catch (e) {
                        console.error('Mock user ë°ì´í„° íŒŒì‹± ì˜¤ë¥˜:', e);
                        handleAutoLogin(page, urlParams);
                    }
                } else {
                    handleAutoLogin(page, urlParams);
                }
                
                if ((page.startsWith('signup-complete') || page.startsWith('signup-pending')) && userType) {
                    signupUserType = userType;
                }
                
                if ((page === 'order-detail' || page === 'admin-order-detail' || page === 'payment') && orderId) {
                    selectedOrderId = orderId;
                }
            } else {
                currentPage = 'page-list';
            }
        };

        // ì €ì¥ëœ ë¡œê·¸ì¸ ì •ë³´ í™•ì¸
        const checkStoredLogin = () => {
            const mockUser = localStorage.getItem('mockUser');
            const urlParams = new URLSearchParams(window.location.search);
            const page = urlParams.get('page');
            
            if (!page && mockUser && !user) {
                try {
                    const parsedMockUser = JSON.parse(mockUser);
                    
                    if (parsedMockUser.type === 'operator') {
                        localStorage.removeItem('mockUser');
                        localStorage.removeItem('rememberedUser');
                        currentPage = 'page-list';
                        console.log('ì˜¤í¼ë ˆì´í„° ê³„ì •ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.');
                        return;
                    }
                    
                    user = parsedMockUser;
                    currentPage = 'page-list';
                    
                } catch (e) {
                    console.error('Mock user ë¡œë“œ ì˜¤ë¥˜:', e);
                    localStorage.removeItem('mockUser');
                    localStorage.removeItem('rememberedUser');
                    currentPage = 'page-list';
                }
            }
        };

        // í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
        const handleKeyDown = (event) => {
            if (event.key === 'Escape') {
                // ESC í‚¤ ì²˜ë¦¬
            }
            
            if (event.key === 'Tab') {
                // Tab í‚¤ ë„¤ë¹„ê²Œì´ì…˜
            }
        };

        // ì´ˆê¸°í™”
        const initialize = () => {
            initializeFromURL();
            checkStoredLogin();
            renderPage();
            
            window.addEventListener('keydown', handleKeyDown);
        };

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', initialize);
    </script>
</body>
</html>